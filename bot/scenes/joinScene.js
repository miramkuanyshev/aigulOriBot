const { Scenes} = require("telegraf");
const markup = require('telegraf-markup4');
require("../middleware/stage/stage");

const joinScene = new Scenes.BaseScene('joinScene');


joinScene.enter (async (ctx) => {
    await ctx.reply('–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤ —Å—É–ø–µ—Ä-–∫–æ–º–∞–Ω–¥—É!üëãüèª\n–ï—Å–ª–∏ —Ç—ã –æ–∫–∞–∑–∞–ª—Å—è –≤ —ç—Ç–æ–º —á–∞—Ç–µ, –∑–Ω–∞—á–∏—Ç —É —Ç–µ–±—è –µ—Å—Ç—å –º–µ—á—Ç—ã! –ö–∞–∫ –º–∏–Ω–∏–º—É–º - —ç—Ç–æ –∫–ª–∞—Å—Å–Ω–∞—è –º–∞—à–∏–Ω–∫–∞, üöó–ø—É—Ç–µ—à–µ—Å—Ç–≤–∏—è, üèñ–∑–¥–æ—Ä–æ–≤—ã–π –æ–±—Ä–∞–∑ –∂–∏–∑–Ω–∏/–º–æ–ª–æ–¥–æ—Å—Ç—å/–∫—Ä–∞—Å–æ—Ç–∞ üòç –∏–ª–∏ —Ö–æ—Ç—è –±—ã –∂–∏—Ç—å, –Ω–∏ –≤ —á–µ–º —Å–µ–±–µ –Ω–µ –æ—Ç–∫–∞–∑—ã–≤–∞—è!\nüòú–ï—Å–ª–∏ —ç—Ç–æ —Ç–∞–∫, —Å–ª–µ–¥—É—è —ç—Ç–æ–π –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏, —Ç—ã —É–∑–Ω–∞–µ—à—å, –∫–∞–∫ –æ—Å—É—â–µ—Å—Ç–≤–∏—Ç—å –≤—Å–µ —Å–≤–æ–∏ –º–µ—á—Ç—ã! –ü–æ–µ—Ö–∞–ª–∏! üëçüèª');
    await new Promise ((resolve) => setTimeout(resolve, 7000));
    await ctx.reply("1Ô∏è‚É£–®–∞–≥.\n–¢–æ—Ç, –∫—Ç–æ —Ç–µ–±—è –ø—Ä–∏–≥–ª–∞—Å–∏–ª —è–≤–ª—è–µ—Ç—Å—è —Ç–≤–æ–∏–º –Ω–∞—Å—Ç–∞–≤–Ω–∏–∫–æ–º –∏ –±—É–¥–µ—Ç —É—á–∏—Ç—å —Ç–µ–±—è –≤—Å–µ–º—É, —á—Ç–æ —É–º–µ–µ—Ç —Å–∞–º. –û–Ω —Å–æ–∑–¥–∞–ª —Ç–µ–±–µ –ª–∏—á–Ω—ã–π –∫–∞–±–∏–Ω–µ—Ç –≤ –∫–æ–º–ø–∞–Ω–∏–∏ –û—Ä–∏—Ñ–ª—ç–π–º - —ç—Ç–æ —Ç–≤–æ–π –æ—Ñ–∏—Å. –°–µ–π—á–∞—Å —Ç–µ–±–µ –Ω—É–∂–Ω–æ –∑–∞–π—Ç–∏ –Ω–∞ —Å–∞–π—Ç www.oriflame.ru –∏ –≤–≤–µ—Å—Ç–∏ 4-—Ö –∑–Ω–∞—á–Ω—ã–π –∫–æ–¥, –∫–æ—Ç–æ—Ä—ã–π –ø—Ä–∏—à—ë–ª –Ω–∞ —Ç–≤–æ–π –º–æ–±–∏–ª—å–Ω—ã–π.");
    await new Promise ((resolve) => setTimeout(resolve, 5000));
    await ctx.reply("2Ô∏è‚É£ –®–∞–≥. –ù–∏—á–µ–≥–æ —Å–µ–±–µ, —Å–∫–æ–ª—å–∫–æ –∑–¥–µ—Å—å –ª—é–¥–µ–π! –ó–Ω–∞—á–∏—Ç –∑–¥–µ—Å—å –¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ –µ—Å—Ç—å —É—Å–ø–µ—Ö? - –ö–æ–Ω–µ—á–Ω–æ –µ—Å—Ç—å! –°–º–æ—Ç—Ä–∏ —ç—Ç–∏ –∏—Å—Ç–æ—Ä–∏–∏ –¥–æ –∫–æ–Ω—Ü–∞ –∏ –¥–µ–ª–∞–π –≤—ã–≤–æ–¥—ã! üòâ\nhttps://youtu.be/7as0bfBX70w\nhttps://youtu.be/ig43Ib52zwU");
    await ctx.reply("–ü–æ—Ç–æ–º —Ç—É—Ç –º–æ–∂–µ—Ç –±—ã—Ç—å –º–∏–ª–ª–∏–æ–Ω —Å–æ–æ–±—â–µ–Ω–∏–π –¥—Ä—É–≥ –∑–∞ –¥—Ä—É–≥–æ–º");
})

joinScene.hears(['–ú–µ–Ω—é'], async (ctx) => {
    await ctx.reply('–í–æ–∑–≤—Ä–∞—â–∞–µ–º—Å—è –≤ –æ—Å–Ω–æ–≤–Ω–æ–µ –º–µ–Ω—é', {reply_markup: {remove_keyboard: true}});
    await new Promise ((resolve) => setTimeout(resolve, 1000));
    await ctx.scene.leave();
    await ctx.scene.enter("menuScene");
});

joinScene.on("message", async (ctx)=>{
    await ctx.reply('–Ø –í–∞—Å –Ω–µ–ø–æ–Ω–∏–º–∞—é, —Å–ª–µ–¥—É–π—Ç–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è–º!');
});

module.exports = joinScene;