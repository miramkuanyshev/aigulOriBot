const { Scenes } = require("telegraf");
const markup = require('telegraf-markup4');
require("../middleware/stage/stage");


const aboutScene = new Scenes.BaseScene('aboutScene');

aboutScene.enter(async (ctx) => {
    console.log(ctx.session)
    await ctx.reply('–ü—Ä–æ–µ–∫—Ç ‚ÄúBusiness-Prost‚Äù –ø–æ–º–æ–≥–∞–µ—Ç —Å–≤–æ–∏–º –ø–∞—Ä—Ç–Ω–µ—Ä–∞–º –ø–æ –≤—Å–µ–º—É –º–∏—Ä—É –æ—Ç–∫—Ä—ã–≤–∞—Ç—å online –º–∞–≥–∞–∑–∏–Ω—ã –∏ –Ω–∞–ø–æ–ª–Ω—è—Ç—å –∏—Ö –ª–æ—è–ª—å–Ω—ã–º–∏ –ø–æ—Ç—Ä–µ–±–∏—Ç–µ–ª—è–º–∏ –∏ –±–∏–∑–Ω–µ—Å –ø–∞—Ä—Ç–Ω–µ—Ä–∞–º–∏.\nüåü–¶–ï–õ–¨ –ü–†–û–ï–ö–¢–ê:\n–û–∫–∞–∑–∞—Ç—å –ø–æ–º–æ—â—å –Ω–∞—á–∏–Ω–∞—é—â–∏–º –ø—Ä–µ–¥–ø—Ä–∏–Ω–∏–º–∞—Ç–µ–ª—è–º –≤ –ø–æ—Å—Ç—Ä–æ–µ–Ω–∏–∏ –≤—ã—Å–æ–∫–æ–¥–æ—Ö–æ–¥–Ω–æ–≥–æ –±–∏–∑–Ω–µ—Å–∞ (—Å –µ–∂–µ–º–µ—Å—è—á–Ω–æ–π –ø—Ä–∏–±—ã–ª—å—é –±–æ–ª–µ–µ 100 000 —Ä—É–±–ª–µ–π) –±–µ–∑ –≤–ª–æ–∂–µ–Ω–∏–π!\n–û–±—É—á–∏—Ç—å —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–º –º–µ—Ç–æ–¥–∞–º –≤–µ–¥–µ–Ω–∏—è –±–∏–∑–Ω–µ—Å–∞ –≤ —Ä–µ–∂–∏–º–µ onlin–µ, –Ω–∞ –ø—Ä–∏–º–µ—Ä–µ –∫—Ä—É–ø–Ω–æ–π –º–µ–∂–¥—É–Ω–∞—Ä–æ–¥–Ω–æ–π –∫–æ–º–ø–∞–Ω–∏–∏ Oriflame.\nüåü–ó–ê–î–ê–ß–ê –ü–†O–ï–ö–¢–ê:\nüî∂–û—Ä–≥–∞–Ω–∏–∑–æ–≤–∞—Ç—å –ø—Ä–∏–≤–ª–µ—á–µ–Ω–∏–µ –Ω–æ–≤—ã—Ö –ø–∞—Ä—Ç–Ω–µ—Ä–æ–≤, –≥–æ—Ç–æ–≤—ã—Ö –æ–±—É—á–∞—Ç—å—Å—è —Å –ø–æ—Å–ª–µ–¥—É—é—â–∏–º –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω—ã–º —Ç—Ä—É–¥–æ—É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ–º;\nüî∑–æ—Ä–≥–∞–Ω–∏–∑–æ–≤–∞—Ç—å –ø–æ–ª—É—á–µ–Ω–∏–µ –Ω–æ–≤–æ–º—É –ø–∞—Ä—Ç–Ω–µ—Ä—É —Å—Ç–∞—Ç—É—Å–∞ ‚Äî –∏–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω—ã–π –ø—Ä–µ–¥–ø—Ä–∏–Ω–∏–º–∞—Ç–µ–ª—å.\nüåüBUSINESS-PROST - –≠–¢–û:\nüî∂–°–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–µ –º–µ—Ç–æ–¥—ã –≤–µ–¥–µ–Ω–∏—è –±–∏–∑–Ω–µ—Å–∞ online, –Ω–µ –≤—ã—Ö–æ–¥—è –∏–∑ –¥–æ–º–∞ –∏–ª–∏ —Å–æ–≤–º–µ—â–∞—è —Å –æ—Å–Ω–æ–≤–Ω–æ–π —Ä–∞–±–æ—Ç–æ–π/—É—á–µ–±–æ–π.\nüî∑–ë–æ–ª–µ–µ 50 —É—Å–ø–µ—à–Ω—ã—Ö –±–∏–∑–Ω–µ—Å-—Ç—Ä–µ–Ω–µ—Ä–æ–≤.–û–±—É—á–µ–Ω–∏–µ –≤ —Ñ–æ—Ä–º–µ –≤–µ–±–∏–Ω–∞—Ä–æ–≤, –≤–∏–¥–µ–æ-–∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏, —à–∞–±–ª–æ–Ω—ã –∏ –ø—Ä–µ–∑–µ–Ω—Ç–∞—Ü–∏–∏. –ò–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω–æ–µ –æ–±—É—á–µ–Ω–∏–µ –æ—Ç –≤—ã—à–µ—Å—Ç–æ—è—â–µ–≥–æ ¬´—Å–ø–æ–Ω—Å–æ—Ä–∞¬ª.\nüî∂–ì–∏–±–∫–∏–π –≥—Ä–∞—Ñ–∏–∫ —Ä–∞–±–æ—Ç—ã.',
        markup.keyboard.reply([["–ú–µ–Ω—é"]]));
    await new Promise((resolve) => setTimeout(resolve, 5000));
    await ctx.reply("–õ–æ–≤–∏ –Ω–µ–±–æ–ª—å—à–æ–µ –≤–∏–¥–µ–æ\n –ù–∞—á–∏–Ω–∞—é –∑–∞–≥—Ä—É–∑–∫—É...");
    await ctx.replyWithVideo({
        source: 'bot/video/startScene.mp4',
        filename: 'start.mp4'
    });
});

aboutScene.hears(['–ú–µ–Ω—é'], async (ctx) => {
    await ctx.reply('–í–æ–∑–≤—Ä–∞—â–∞–µ–º—Å—è –≤ –æ—Å–Ω–æ–≤–Ω–æ–µ –º–µ–Ω—é', { reply_markup: { remove_keyboard: true } });
    await new Promise((resolve) => setTimeout(resolve, 1000));
    await ctx.scene.leave();
    await ctx.scene.enter("menuScene");
});

aboutScene.on("message", async (ctx)=>{
    await ctx.reply('–Ø –í–∞—Å –Ω–µ–ø–æ–Ω–∏–º–∞—é, —Å–ª–µ–¥—É–π—Ç–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è–º!');
});


module.exports = aboutScene